{% extends 'Analyzer/base.html' %}


{% block title %} Sentiment Analysis {% endblock %}

{% block body %}

    <!---Chart -->
    <div class="jumbotron text-center">
		<h1>Social Media Analyzer</h1>
		<h2>You are looking at the Sentiment Chart for "{{keyword}}"</h2>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-12">
				<canvas class="chart" id="myChart" width="800" height="800"></canvas>
			</div>
		</div>
	</div>

    <br>
    <script>
    var ctx = document.getElementById("myChart");
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{labels|safe}},
            datasets: [{
                label: '',
                data: {{ scores }},
                backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)'
                ],
                borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: false,
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            },
            legend: {
                display: false
            }

        }
    });

    </script>
    <hr>


    <!-- Display results from Database -->
        <h4>Keyword Hits: {{keyword_hits}}</h4>
        <h6>Elapsed time: {{elapsed_time}} seconds</h6>
        <ol>
            {% for d in data %}
        <li>{{d}}</li>
            {% endfor %}
        </ol>




{% endblock %}